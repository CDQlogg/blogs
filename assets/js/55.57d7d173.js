(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{551:function(t,s,a){"use strict";a.r(s);var e=a(3),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote"),t._v(" "),s("p",[t._v("如果你不知道该不该使用它，那你可能就不需要使用\n状态机\n遵循了单向数据流的设计思想")]),t._v(" "),s("blockquote"),t._v(" "),s("h2",{attrs:{id:"什么是vuex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是vuex"}},[t._v("#")]),t._v(" 什么是vuex?")]),t._v(" "),s("p",[t._v("集中式的状态管理（数据管理）工具")]),t._v(" "),s("ul",[s("li",[t._v("在商品列表【加入购物车】操作购物车数据")]),t._v(" "),s("li",[t._v("导航栏的购物车下拉组件中，展示购物车数据")]),t._v(" "),s("li",[t._v("在购物车页面中，展示购物车数据")])]),t._v(" "),s("h2",{attrs:{id:"为什么使用vuex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么使用vuex"}},[t._v("#")]),t._v(" 为什么使用vuex？")]),t._v(" "),s("p",[t._v("让我们更加便捷的去管理，需要跨组件、同步、共享的数据包")]),t._v(" "),s("h2",{attrs:{id:"如何使用vuex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何使用vuex"}},[t._v("#")]),t._v(" 如何使用vuex？")]),t._v(" "),s("h3",{attrs:{id:"使用vuex的流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用vuex的流程"}},[t._v("#")]),t._v(" 使用vuex的流程")]),t._v(" "),s("p",[t._v("文档"),s("img",{attrs:{src:"https://v3.vuex.vuejs.org/zh/",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("安装")])]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("npm i vuex -S")]),t._v(" "),s("blockquote"),t._v(" "),s("ul",[s("li",[t._v("项目新建独立的模块，配置vuex")])]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("store/index.js")]),t._v(" "),s("p",[t._v("● state        存储状态机数据包\n● mutations    用以触发state变化的方法包\n● getters      根据state的变化，运算得到一个符合条件的新数据包，类似于组件中的computed的能力\n● actions      在状态机中，发起异步请求的模块\n● modules     状态机拆分模块化")]),t._v(" "),s("blockquote"),t._v(" "),s("ul",[s("li",[t._v("在组件中，提取状态机的state数据，并使用\n必须在computed中提取")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//提取状态机中的state数据包")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("ul",[s("li",[t._v("在组件中，触发mutations，修改状态机中的state")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlePlus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//触发store状态机的mutations")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h3",{attrs:{id:"关于core-js报错问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于core-js报错问题"}},[t._v("#")]),t._v(" 关于core-js报错问题")]),t._v(" "),s("ol",[s("li",[t._v("报错信息")])]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("./src/store/index.js\nModule not found: Error: Can't resolve 'core-js/modules/es.array.filter.js' in 'D:\\2103H5\\Vue（实战周）\\vue-project\\src\\store'")]),t._v(" "),s("blockquote"),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("重新安装npm依赖")])]),t._v(" "),s("ul",[s("li",[t._v("删除node_moduels")]),t._v(" "),s("li",[t._v("执行 npm i")])]),t._v(" "),s("h3",{attrs:{id:"getters的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getters的使用"}},[t._v("#")]),t._v(" getters的使用")]),t._v(" "),s("ul",[s("li",[t._v("负责处理state数据，并返回新的数据")]),t._v(" "),s("li",[t._v("如果处理后的数据包，也需要跨组件共享，就适合放在getters")])]),t._v(" "),s("h2",{attrs:{id:"vuex的模块化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex的模块化"}},[t._v("#")]),t._v(" vuex的模块化")]),t._v(" "),s("ul",[s("li",[t._v("为了避免store状态机文件，变得过于臃肿，不利于维护")]),t._v(" "),s("li",[t._v("可以按照数据的业务逻辑，将状态机拆分为若干模块   【项目中必须拆分模块】")])]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("● count.js\n● goods.js")]),t._v(" "),s("blockquote"),t._v(" "),s("ul",[s("li",[t._v("使用modules将各个模块，引入并配置到store对象")]),t._v(" "),s("li",[t._v("拆分模块后，默认情况下")])]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("● state变成了模块内局部的数据\n● getters、mutations、actions依旧是全局的")]),t._v(" "),s("blockquote"),t._v(" "),s("ul",[s("li",[t._v("可以为每个模块开启命名空间，保证内部所以的属性、方法，都变为局部")])]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("namespaced:true")]),t._v(" "),s("blockquote"),t._v(" "),s("ul",[s("li",[t._v("mutations触发时，没有携带模块名的报错")])]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("[vuex] unknown mutation type: increment")]),t._v(" "),s("blockquote"),t._v(" "),s("h2",{attrs:{id:"vuex使用方法汇总"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex使用方法汇总"}},[t._v("#")]),t._v(" vuex使用方法汇总")]),t._v(" "),s("h3",{attrs:{id:"_1-初始化vuex的基本语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-初始化vuex的基本语法"}},[t._v("#")]),t._v(" 1. 初始化vuex的基本语法")]),t._v(" "),s("p",[t._v("熟悉这三个文件的关系、及内部语法")]),t._v(" "),s("blockquote"),t._v(" "),s("p",[t._v("● index.js\n● count.js\n● goods.js")]),t._v(" "),s("blockquote"),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("namespace")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("getters")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mutations")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-在组件中使用vuex状态机的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-在组件中使用vuex状态机的方法"}},[t._v("#")]),t._v(" 2. 在组件中使用vuex状态机的方法")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("● "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("模块名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("数据名          获取state的方式\n● "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getters"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'模块名/getters数据名'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("   获取getters的方式\n● "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'模块名/mutation的名字'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("可选参数"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);